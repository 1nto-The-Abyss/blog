(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{417:function(e,t,n){"use strict";n.r(t);var s=n(2),a=Object(s.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h2",{attrs:{id:"_1-博客搭建"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-博客搭建"}},[e._v("#")]),e._v(" 1.博客搭建")]),e._v(" "),t("ol",[t("li",[e._v("初始化")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("npm init # yarn init\n\nnpm install -D vuepress # yarn add -D vuepress\n")])])]),t("ol",{attrs:{start:"2"}},[t("li",[e._v("package.json中添加script")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('{\n  "scripts": {\n    "dev": "vuepress dev docs",\n    "build": "vuepress build docs"\n  }\n}\n')])])]),t("blockquote",[t("p",[e._v("这样配置可能会出现热更新失效的情况,可以改为\n"),t("code",[e._v('"dev": "vuepress dev docs --temp .temp"')])])]),e._v(" "),t("ol",{attrs:{start:"3"}},[t("li",[e._v("使用vuepress-theme-reco")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("npm install vuepress-theme-reco --save-dev\n#\nyarn add vuepress-theme-reco\n")])])]),t("ol",{attrs:{start:"4"}},[t("li",[e._v("创建"),t("code",[e._v(".vuepress")]),e._v("目录并配置")])]),e._v(" "),t("p",[t("a",{attrs:{href:"https://vuepress.vuejs.org/zh/guide/directory-structure.html#%E9%BB%98%E8%AE%A4%E7%9A%84%E9%A1%B5%E9%9D%A2%E8%B7%AF%E7%94%B1",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vuepress-指南-目录结构"),t("OutboundLink")],1)]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v(".\n├── docs\n│   ├── .vuepress (可选的)\n│   │   ├── public (存放静态资源)\n|   |   |   ├── avatar.png(头像)\n|   |   |   └── bg.png(首页背景图)\n│   │   ├── styles (存放样式相关文件)\n│   │   │   ├── index.styl(全局样式文件)\n│   │   │   └── palette.styl(重写默认颜色)\n│   │   └── config.js (配置文件)\n│   │   \n│   ├── views(存放文章)\n│   │   └── 测试\\博客搭建部署.md\n│   ├── \n│   └── README.md(首页配置)\n│ \n└── package.json\n")])])]),t("ol",[t("li",[e._v("配置主题")])]),e._v(" "),t("ul",[t("li",[e._v("docs/.vuepress/config.js")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("module.exports = {\n  theme: 'reco',\n  title: \"hello reco\",\n  description: 'welcome to my blog builded with vuepress-theme-reco',\n  // 移动端优化\n  head: [\n    [\n      'meta', \n        { name: 'viewport', content: 'width=device-width,initial-scale=1,user-scalable=no' },\n      'link',\n        {rel: 'icon', href: 'avatar.png'}\n     ]\n  ],\n  // 主题设置\n  themeConfig: {\n    type: 'blog',\n    author: 'Into the Abyss',\n    // 显示在个人信息的头像\n    authorAvatar: '/avatar.png',\n    // 导航栏左侧logo\n    logo: '/avatar.png',\n    // 搜索设置\n    search: true,\n    searchMaxSuggestions: 10,\n    // 自动形成侧边导航及其深度\n    subSidebar: 'auto',\n    sidebarDepth: 1,\n    // 最后更新时间\n    lastUpdated: 'Last Updated',\n    // 项目开始时间\n    startYear: '2022',\n    // 导航栏配置\n    nav: [\n      { text: 'Home', link: '/', icon: 'reco-home' },\n      { text: 'TimeLine', link: '/timeline/', icon: 'reco-date' },\n      { text: 'GitHub', link: 'https://github.com/<USERNAME>', icon: 'reco-github' }\n    ],\n    // 博客配置\n    blogConfig: {\n      category: {\n        location: 2,     // 在导航栏菜单中所占的位置，默认2\n        text: 'Category' // 默认文案 “分类”\n      },\n      tag: {\n        location: 3,     // 在导航栏菜单中所占的位置，默认3\n        text: 'Tag'      // 默认文案 “标签”\n      }\n    }\n  }\n}\n")])])]),t("ul",[t("li",[e._v("docs/README.md")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("---\nhome: true\nbgImage: '/bg.png'\nbgImageStyle: {\n  height: '90vh',\n  color: 'white',\n  margin: \"38px auto 0\"\n}\n---\n")])])]),t("h2",{attrs:{id:"_2-部署"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-部署"}},[e._v("#")]),e._v(" 2.部署")]),e._v(" "),t("ol",[t("li",[t("p",[e._v("Github上新建仓库"),t("code",[e._v("blog")])])]),e._v(" "),t("li",[t("p",[t("code",[e._v("config.js")]),e._v("添加base路径配置")])])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("module.exports = {\n  // 路径名为'/<REPO>/'\n  base: '/blog/'\n  // ...\n}\n")])])]),t("ol",{attrs:{start:"3"}},[t("li",[e._v("添加部署脚本")])]),e._v(" "),t("ul",[t("li",[e._v("根目录下创建"),t("code",[e._v("deploy.sh")]),e._v("文件")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("#!/usr/bin/env sh\n\n# 确保脚本抛出遇到的错误\nset -e\n\n# 生成静态文件\nnpm run docs:build\n\n# 进入生成的文件夹\ncd docs/.vuepress/dist\n\n# 如果是发布到自定义域名\n# echo 'www.example.com' > CNAME\n\ngit init\ngit add -A\ngit commit -m 'deploy'\n\n# 如果发布到 https://<USERNAME>.github.io\n# git push -f git@github.com:<USERNAME>/<USERNAME>.github.io.git master\n\n# 如果发布到 https://<USERNAME>.github.io/<REPO>\ngit push -f git@github.com:<USERNAME>/<REPO>.git master:gh-pages\n\ncd -\n")])])]),t("ul",[t("li",[e._v("package.json添加部署指令")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('  "scripts": {\n    // ...\n    "depoly": "bash deploy.sh"\n  }\n')])])]),t("blockquote",[t("p",[e._v("windows没有bash指令，直接运行会报错\n解决方法：git bash中自带了bash,在项目中打开git bash窗口输入"),t("code",[e._v("npm run depoly")])])]),e._v(" "),t("p",[e._v("执行指令后就会开始构建并提交到远程仓库的"),t("code",[e._v("gh-pages")]),e._v("分支\n可以在仓管"),t("code",[e._v("Settings -> Pages")]),e._v("看到部署的地址")])])}),[],!1,null,null,null);t.default=a.exports}}]);