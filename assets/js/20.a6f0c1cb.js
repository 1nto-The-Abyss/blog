(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{422:function(e,t,n){"use strict";n.r(t);var a=n(2),p=Object(a.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("blockquote",[t("p",[e._v("问题描述：在layout.vue添加keep-alive,没有触发\n在app.vue添加keep-alive生效了但不是想要的效果（切换到别的模块的界面后仍然有缓存）")])]),e._v(" "),t("p",[e._v("app.vue")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('<template>\n  <div id="app">\n    <router-view :key="$route.path"/>\n  </div>\n</template>\n')])])]),t("p",[e._v("layout.vue")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('<template>\n  <div>\n    <keep-alive >\n      <router-view v-if="$route.meta.keepAlive"></router-view>\n    </keep-alive>\n    <router-view v-if="!$route.meta.keepAlive"></router-view>\n  </div>\n</template>\n')])])]),t("p",[e._v("路由配置index.js")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("const routes = [\n    {\n    path: '/home',\n    component: home,\n    children: [\n      {\n        path: '/',\n        redirect: 'menu1'\n      },\n      {\n        path: 'menu1',\n        name: 'menu1',\n        component: () => import('@/views/Start/home/menu1'),\n        meta: { keepAlive: true } \n      },\n      {\n        path: 'menu2',\n        name: \"menu2\",\n        component: () => import('@/views/Start/home/menu2'),\n        meta: { keepAlive: true }\n      }\n    ]\n  }\n]\n")])])]),t("blockquote",[t("p",[e._v("解决方法：去掉app.vue里router-view标签上的key后解决了问题")])]),e._v(" "),t("blockquote",[t("p",[e._v("原因猜测：key绑定了动态数值，每次解析时都会以为进入了一个新页面，引起页面刷新和数据重载")])])])}),[],!1,null,null,null);t.default=p.exports}}]);